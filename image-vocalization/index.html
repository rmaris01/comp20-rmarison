<!DOCTYPE html>

<html>

<head>

	<title>Senior Design: Image Vocalization</title>
	<link rel="stylesheet" href="style.css"/>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

	<link rel="stylesheet" href="dropzone.css"/>
	<script src="dropzone.js"></script>

	<script>
		var midi = null;  // global MIDIAccess object

		function readURL(input) {
		    if (input.files && input.files[0]) {

		        var reader = new FileReader();
		        reader.onload = function (e) {
		            $('#user-img').attr('src', e.target.result);
		        }
		        reader.readAsDataURL(input.files[0]);
		    }
		}

		function onMIDISuccess( midiAccess ) {
			console.log( "MIDI ready!" );
			midi = midiAccess;  // store in the global (in real usage, would probably keep in an object instance)
		}

		function onMIDIFailure(msg) {
			console.log( "Failed to get MIDI access - " + msg );
		}

		function getMidi() {
			navigator.requestMIDIAccess().then( onMIDISuccess, onMIDIFailure );
		}
	</script>

</head>

<body class="background-pic">
	<div class="image-vocal">
		<h1>Senior Design: Image Vocalization</h1>
		<hr>
    	<input type="file" id="image-input" onchange="readURL(this);"/> <br>
    	<img id="user-img" src="#" alt="your uploaded image"/> <br>
 	   	<button id="midi-btn" onclick="getMidi()">Get Midi Access</button>
	</div>
</body>
</html>
