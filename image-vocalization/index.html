<!DOCTYPE html>
<!-- tutorials/documentary:
https://code.tutsplus.com/tutorials/introduction-to-web-midi--cms-25220
https://code.tutsplus.com/series/the-web-audio-api--cms-817
https://webaudio.github.io/web-midi-api/#conformance 
https://www.npmjs.com/package/soundfont-player 
https://github.com/gleitz/midi-js-soundfonts
https://github.com/mudcube/MIDI.js
https://github.com/Theodeus/tuna
-->

<!-- 
aspects of the music:
-let user select key
-RGB ave value (r + g + b) / 3 but put into better range : pitch
- dominating rgb value = pitch
- three different instruments for pitch, each from rgb (play a chord)
-RGB percentage within 255 range, ((r + g + b) / (255*3)) * 1500, where 1500 is max number of ms that I want : duration
-size of image/size of pixel group: duration?
-duration: based on one of rgb, user gets to choose which one
-RED: ?
-GREEN: ?
-BLUE: ?
-APLHA: key?
-LUM: effects and also major/minor key (if in lower half then minor, else major) 
-->

<html>

<head>

	<title>Senior Design: Image Vocalization</title>
	<link rel="stylesheet" href="style.css"/>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

	<link rel="stylesheet" href="dropzone.css"/>
	<script src="dropzone.js"></script>
	
	<script src="soundfont-player.min.js"></script>
	<script type="text/javascript" src="midiAccess.js"></script>
	<script type="text/javascript" src="SweepController.js"></script>
	<script type="text/javascript" src="PixelReader.js"></script>
	<script type="text/javascript" src="MelodyAttributeController.js"></script>
	<script type="text/javascript" src="MelodyPlayer.js"></script>
	
	<script src="MIDI/MIDI.min.js"></script>
	<script src="MIDI/Base64.js" type="text/javascript"></script>
	<script src="MIDI/Base64binary.js" type="text/javascript"></script>
	<script src="MIDI/WebAudioAPI.js" type="text/javascript"></script>
	<!-- midi.js package -->
	<script src="MIDI/audioDetect.js" type="text/javascript"></script>
	<script src="MIDI/gm.js" type="text/javascript"></script>
	<script src="MIDI/loader.js" type="text/javascript"></script>
	<script src="MIDI/plugin.audiotag.js" type="text/javascript"></script>
	<script src="MIDI/plugin.webaudio.js" type="text/javascript"></script>
	<script src="MIDI/plugin.webmidi.js" type="text/javascript"></script>
	<!-- utils -->
	<script src="MIDI/dom_request_xhr.js" type="text/javascript"></script>
	<script src="MIDI/dom_request_script.js" type="text/javascript"></script>
	
	<script src="tuna-min.js"></script>

	<script>
		function readURL(input) {
		    if (input.files && input.files[0]) {

		        var reader = new FileReader();
		        reader.onload = function (e) {
		            $('#user-img').attr('src', e.target.result);
		        }
		        reader.readAsDataURL(input.files[0]);
		    }
		}
	</script>

</head>

<body class="background-pic">
	<div class="image-vocal">
		<h1>Senior Design: Image Vocalization</h1>
		<hr>
    	<input type="file" id="image-input" onchange="readURL(this);"/> <br>
    	<img id="user-img" src="#" alt="your uploaded image"/> <br>
 	   	<!-- <button id="midi-btn" onclick="getMidi()">Get Midi Access</button> -->
 	   	
 	   	<form id="sweep-form">
	 	   	Left to Right: <input type="radio" name="sweeps" id="left-to-right" value="left-to-right">
	 	   	Right to Left: <input type="radio" name="sweeps" id="right-to-left" value="right-to-left">
	 	   	Top to Bottom: <input type="radio" name="sweeps" id="top-to-bottom" value="top-to-bottom">
	 	    Bottom to Top: <input type="radio" name="sweeps" id="bottom-to-top" value="bottom-to-top">
	 	   	Other: <input type="radio" name="sweeps" id="other" value="other">
 	   	</form>

 	   	<button id="play-btn" onclick="play()">Play</button>
	 	<hr>

	 	<form id="key-form">
		 	<p> Choose a key to play in: </p>
		 	C: <input type="radio" id="keyOfC" value="keyOfC">
		 	G: <input type="radio" id="keyOfG" value="keyOfG">
		 	D: <input type="radio" id="keyOfD" value="keyOfD">
		 	A: <input type="radio" id="keyOfA" value="keyOfA">
	 	</form>

	</div>
</body>
</html>
